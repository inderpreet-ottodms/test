
<div *ngIf="!isEditPO">
  <div class="row">
    <div class="col-md-12">
      <div *ngIf="showGotIt" class="cus-alert-danger1 mb-2">
        <p> {{bannerMsg}}</p>
        <div class="col-md-12 close-warn">
          <img  (click)="closeGotit()" style="cursor: pointer;" src="assets/images/closeIcon.png" />
          <span class="label-warn">Got it. Donâ€™t show again.</span>
        </div>
      </div>
      <div class="col-md-12">
        <div class="order-header-info">
          <p class="order-Id">Order {{ orderId }}</p>
          <div class="order-header-btns">
          <div *ngIf="!disableMsgManf && !disableBtn">
            <button
              data-bs-toggle="modal"
              data-bs-target="#retractModal"
              [disabled]="disableBtn"
              [ngClass]="disableBtn ? 'disableCls' : 'order-retract'"
              (click)="nokeepAward()"
            >
              Retract Award
            </button>
          </div>
          <div> 
          <button class="order-message"  (click)="openMessageDrawer($event, this.SupplierId, rfq, this.supplierName)" >Message Manufacturer</button>
          </div>  
          <div *ngIf="!disableMsgManf">
            <button *ngIf="!newPurchaseOrder" class="edit-order"  [disabled]="disableBtn" [ngClass]="disableBtn ? 'disableCls' : 'edit-order' " (click)="openEditPo()">
              Edit Purchase Order
            </button>
            </div>
            <div>
              <button *ngIf="disableMsgManf" class="edit-order" [disabled]="!isAddratingDisabled" (click)="addReview()" >Add Your Review</button>
            </div>   
            <div *ngIf="!disableMsgManf">
              <button *ngIf="newPurchaseOrder" [disabled]="disableBtn"  class="edit-order" [ngClass]="disableBtn ? 'disableCls' : 'edit-order'" (click)="openNewPO()">
                Upload New Purchase Order
              </button>
            </div>
            <div *ngIf="poPartComplete">
              <button
                data-bs-toggle="modal"
                data-bs-target="#orderRecieved"
                class="edit-order"
                (click)="confirmParts()"
                [disabled]="poOrderRecieved"
              >
              Confirm all Parts Received
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- PO custom modal popup -->
      <p-dialog
        header="Upload New Purchase Order"
        class="award-heading"
        [(visible)]="isAwardStep2"
        [modal]="true"
        [responsive]="true"
        [width]="575"
        [height]="491"
        [draggable]="false"
        (onHide)="onIsAward1()"
      >
        <div class="row order-tile">
          <div class="col-md-12">
            <div class="col-md-12 container-class">
              <div class="file-upload">
                <div>
                  <input class="file-format" type="text" readonly="true" />
                </div>
                <div *ngIf="iPartUploadedFileNameList?.FileNameList.length > 0">
                  <div
                    class="row part-bg"
                    *ngFor="
                      let item of iPartUploadedFileNameList?.FileNameList;
                      let i = index
                    "
                  >
                    <div style="color: #4a90e2">
                      <span
                        class="upload-part-detail-list"
                        (click)="downloadS3File(item.CompleteFileName, true)"
                        title="Download - {{
                          item.CompleteFileName | originalName
                        }}"
                        >{{ getOriginalFineName(item.CompleteFileName) }}
                      </span>
                    </div>
                    <div
                      style="
                        display: flex;
                        width: 430px;
                        margin-top: -18px;
                        justify-content: flex-end;
                      "
                    >
                      <a (click)="removeSavedPartDetailFile(item, i)">
                        <span class="upload-part-detail-remove"
                          ><i class="fa fa-trash" style="color: #4a90e2"></i
                        ></span>
                      </a>
                    </div>
                  </div>
                </div>
                <div
                  [ngClass]="
                    iPartUploadedFileNameList?.FileNameList.length === 1
                      ? ''
                      : ''
                  "
                >
                  <div
                    id="partFileAddedError"
                    ng2FileDrop
                    for="file-upload"
                    (click)="file.click()"
                    [ngClass]="{ 'nv-file-over': hasBaseDropZoneOver }"
                    (fileOver)="fileOverBase($event)"
                    [uploader]="uploader"
                  >
                    <div>
                      <div class="m-l-0" style="margin-left: 30px">
                        <img
                          src="assets/downloadIcon.png"
                          aria-hidden="true"
                          class="dragdrop-img"
                        />

                        <p class="p-l-10 addMoreFiles">
                          <span class="drapdrop">
                            Drag and drop a .pdf file here or
                          </span>
                          <br />
                          <span
                            [ngClass]="
                              iPartUploadedFileNameList?.FileNameList.length ===
                              0
                                ? 'colorBlue'
                                : 'colorGray'
                            "
                            style="cursor: pointer !important"
                            >click to upload</span
                          >
                        </p>
                      </div>
                      <input
                        id="file-upload"
                        type="file"
                        ng2FileSelect
                        [uploader]="partDetailUploader"
                        (change)="onFileSelected($event)"
                        #file
                        accept="application/pdf"
                        style="display: none"
                      />
                      <input
                        type="file"
                        #fileInput
                        ng2FileSelect
                        [uploader]="uploader"
                        style="display: none"
                        accept="application/pdf"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="order-body">
                <div style="margin-bottom: 10px">
                  <div>
                    <span class="purchase-text">Purchase order number</span>
                    <p class="purchase-p">
                      *Use the number we generated for you or enter your own.
                    </p>
                  </div>
                  <input
                    type="text"
                    name="purchaseOrder"
                    [(ngModel)]="purchaseOrderID"
                    class="order-number"
                    maxlength="30"
                  />
                </div>
                <div *ngIf="purchaseEmpty">
                  <h6 style="color: red">PO number cannot be empty</h6>
                </div>
                <span class="response-text">I'd like a response by</span>
                <input
                  class="order-number"
                  onkeydown="return false"
                  type="date"
                  [(ngModel)]="responseDate"
                  [min]="minDate | date : 'yyyy-MM-dd'"
                  [max]="maxDate | date : 'yyyy-MM-dd'"
                />
                <div *ngIf="invalidDate">
                  <h6 style="color: red">Please select a valid Date</h6>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="award-btn-container">
          <div class="award-modalStep">
            <div class="award-step-cancel" (click)="cancelAward()">
              <h2 class="award-step-cancel-h2">Cancel</h2>
            </div>
          </div>
          <div style="margin-left: -45px">
            <button class="award-step2-btn" [disabled]="purchaseEmpty" [ngClass]="[(!purchaseEmpty) ? '' :'requoteActive' ,(iPartUploadedFileNameList?.FileNameList.length === 0)?  'nextDeActive':'']" (click)="awardStepTwo()"><h2 [ngClass]="[(!purchaseEmpty) ? '':'requote' , (iPartUploadedFileNameList?.FileNameList.length === 0) ? 'nxtDeActive':'']" class="award-step2-btn-h2" >Send to Manufacturer</h2></button>


            <!-- <button class="award-step2-btn" (click)="awardStepTwo()">
              <h2 [disabled]="purchaseEmpty" [ngClass]="[(!purchaseEmpty) ? '' :'requoteActive' ,(isUploadMyOwnFile && iPartUploadedFileNameList?.FileNameList.length === 0)?  'nextDeActive':'']" (click)="awardStepTwo()"><h2 [ngClass]="[(!purchaseEmpty) ? '':'requote' , (isUploadMyOwnFile && iPartUploadedFileNameList?.FileNameList.length === 0) ? 'nxtDeActive':'']"  class="award-step2-btn-h2">Send to Manufacturer</h2>
            </button> -->
          </div>
        </div>
      </p-dialog>
      <div class="col-md-12">
        <div class="order-detail mt-2">
          <h4>Order Details</h4>
        </div>
      </div>
      <div class="col-md-12">
        <div class="status-order">
          <p>
            Status:<span class="PO-status"> {{ poStatus }}</span>
          </p>
          <p>
            Manufacturer:<a *ngIf="!disableMsgManf" class="manu-name" (click)="openSidePanel()">
              {{ manuFacture }}</a
            >
          </p>
          <p>
            Preferred Payment Terms:<span *ngIf="!disableMsgManf"> {{ term }}</span>
          </p>
          <p>
            RFQ:<a *ngIf="!disableMsgManf" class="rfq-ID" (click)="onRfq()"> {{ rfq }}</a>
          </p>
          <p>
            Quote:<a *ngIf="!disableMsgManf" class="rfq-ID" (click)="onQuotes()"> {{ quote }}</a>
          </p>
        </div>
        <div *ngIf="disableMsgManf">
          Reason : <span style="font-weight: bold;">{{poReason}}</span>
        </div>
        <div *ngIf="disableMsgManf">
          Updated On: <span style="font-weight: bold;">{{poReasonDate}}</span>
        </div>
      </div>
      <div class="col-md-12">
        <!-- <div class="order-detail">
          <h4 class="parts-block">Parts</h4>
        </div>
        <div class="status-price col-md-12">
          <p class="col-md-1" style="padding: 0px">Part</p>
          <p class="col-md-2" *ngIf="!isExpand">Status</p>
          <p class="col-md-2" style="text-align: center">Quantity</p>
          <p
            class="col-md-2"
            [ngClass]="poFileUrl ? 'text-align-end' : 'text-align-center'"
          >
            Price (/unit)
          </p>
          <p
            class="col-md-2"
            [ngClass]="poFileUrl ? 'text-align-end' : 'text-align-center'"
          >
            Price (total)
          </p>
          <p class="col-md-2" style="text-align: end">Actions</p>
        </div> -->
        <div class="order-block" *ngFor="let supplier of parts; let i = index">
          <div class="row">
            <div class="col-md-12" style="height: 100%">
              <!-- <div class="order-block" > -->
              <div class="status-unit">
                <div class="status-unit-items part">
                  <div style="padding: 0px;word-break: break-all;">
                    Parts: {{ supplier.rfq_part_description }}
                  </div>
                </div>
                <div class="status" *ngIf="!isExpand">
                  <span class="mr-2">Status:</span>
                  <div class="status-content">
                    <img src="assets/images/ellipse.png" />
                    <p style="padding-top: 17px">
                      {{ supplier.rfq_part_status }}
                    </p>
                  </div>
                </div>
                <div class="view">
                  <a class="manu-name" (click)="openViewAllSidePanel(supplier.rfq_part_id)">
                    View All</a>
                </div>
                <div class="qty">
                  Quantity: {{ supplier.rfq_part_quoted_quantity }}
                </div>
                <div *ngIf="!poFileUrl" class="unit">
                  Price (/unit): {{ supplier.rfq_part_quoted_price_per_unit }}
                </div>
                <div *ngIf="!poFileUrl" class="total">
                  Price (total): {{ supplier.rfq_part_quoted_quantity_total_price }}
                </div>
                <div
                  *ngIf="poFileUrl"
                  (click)="seePoAttached()"
                >
                  <a class="rfq-ID">See Po attached</a>
                </div>
                <div
                  *ngIf="poFileUrl"
                  (click)="seePoAttached()"
                >
                  <a class="rfq-ID">See Po attached</a>
                </div>
                <div class="hide-dropdown action">
                  <!-- <div (click)="onclick(i)"  style="margin-right: 13px">
                    <i
                      style="color: #222222"
                      class="ti-angle-up"
                      *ngIf="visible"
                    ></i>
                    
                    <span *ngIf="visible " >
                      {{ showdetails ? "Show Details" : "view Details" }}
                    </span>
                    <i
                      style="color: #222222"
                      class="ti-angle-down"
                      *ngIf="showdetails"
                    ></i>
                   
                    <span *ngIf="showdetails">
                      {{ showdetails ? "Show Details" : "view Details" }}
                    </span>
                
                  </div> -->
                  <div (click)="onExpand(i)" (click)="(selectedDivIndex === i)">
                    <i
                      class="fa fa-chevron-down"
                      aria-hidden="true"
                      *ngIf="selectedDivIndex !== i"
                    ></i>
                    <span *ngIf="selectedDivIndex !== i">{{ showDetails }}</span
                    ><i
                      class="fa fa-chevron-up"
                      aria-hidden="true"
                      *ngIf="selectedDivIndex === i"
                    ></i>
                    <span *ngIf="selectedDivIndex === i">{{
                      hideDetails
                    }}</span>
                  </div>
                </div>
              </div>

              <ng-container *ngIf="selectedDivIndex === i">
                <div class="bg-white shadow-sm p-3 hide-content">
                  <p class="p-details">Details</p>
                  <div class="block-content">
                    <div>
                      <!-- <p class="block-content-info">
                        New or Existing Part ?: {{supplier.rfq_part_existing}} <br>
                        1st Quantity <br>
                        Quantity Unit
                      </p> -->
                      <p class="detail-content">
                        New or Existing Part ?:
                        <span class="detail-info">{{
                          supplier.rfq_part_existing
                        }}</span>
                      </p>
                      <p class="detail-content">
                        Awarded Quantity:
                        <span class="detail-info">{{
                          supplier.rfq_part_first_quantity
                        }}</span>
                      </p>
                      <p class="detail-content">
                        Quantity Unit:<span class="detail-info">{{
                          supplier.rfq_part_first_quantity_unit
                        }}</span>
                      </p>
                    </div>
                    <div>
                      <!-- <p class="block-manu-info">
                        Manufacturing Process: {{supplier.rfq_part_manufacturing_process}} <br>
                        Manufacturing Technique: {{supplier.rfq_part_manufacturing_technique}}<br>
                        Material {{supplier.rfq_part_material}}
                      </p> -->
                      <p class="detail-content">
                        Manufacturing Process:
                        <span class="detail-info">{{
                          supplier.rfq_part_manufacturing_process
                        }}</span>
                      </p>
                      <p class="detail-content">
                        Manufacturing Technique:
                        <span class="detail-info">{{
                          supplier.rfq_part_manufacturing_technique
                        }}</span>
                      </p>
                      <p class="detail-content">
                        Material:
                        <span class="detail-info">{{
                          supplier.rfq_part_material
                        }}</span>
                      </p>
                    </div>
                    <div style="margin-right: 30px">
                      <!-- <p class="block-part-info">
                        Post-Prod. Process:{{supplier.rfq_part_process}}<br>
                        Part Specification: {{supplier.rfq_part_specification}}<br>
                        Part information for Manufacturing: {{supplier.rfq_part_information}}
                      </p> -->
                      <p class="detail-content">
                        Post-Prod. Process:
                        <span class="detail-info">{{
                          supplier.rfq_part_process
                        }}</span>
                      </p>
                      <p
                        class="detail-content"
                        title="{{ supplier.rfq_part_specification }}"
                        readonly="true"
                      >
                        Part Specification:
                        <span class="detail-info">{{ supplier.rfq_part_specification }}</span>
                      </p>
                      <p class="detail-content"  title="{{ supplier.rfq_part_information }}"
                      readonly="true">
                        Part information for Manufacturing:
                        <span *ngIf="supplier.rfq_part_information" class="detail-info">{{
                          supplier.rfq_part_information
                        }}</span>
                        <span *ngIf='supplier.rfq_part_information == ""' class="detail-info">NA</span>
                      </p>
                    </div>
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
        </div>
        
        <div class="total-price">
          <h4 class="total-field">Total</h4>
          <div class="total-count">
              ${{totalPrice}}
          </div>
        </div>
    </div>
  </div>
</div>
</div>
<div *ngIf="isEditPO">
  <div>
    <div>
      <p (click)="backToOrder()" class="back-order">
        <i class="ti-angle-left"></i> Back To Order
      </p>

      <div class="purchase-header">
        <div>
          <h3 class="purchase-title">Purchase Order {{ orderId }}</h3>
        </div>
        <div class="purchase-header-btns mt-2">
          <button
            class="Message-modal"
            (click)="
              openMessageDrawer($event, this.SupplierId, 0, this.supplierName)
            "
          >
            <h4 class="Message-modal-h4">Message Manufacturer</h4>
          </button>
          <button class="purchase-modal">
            <h4 class="purchase-modal-h4" (click)="sendPurchaseOrder()">Send Purchase Order</h4>
          </button>
        </div>
      </div>
      <div class="order-info-sections">
        <div class="container-block">
          <div class="col-md-12 Buyer-detail">
            <h4 style="font-size: 16px">Buyer</h4>
          </div>
          <form [formGroup]="purchaseOrderForm">
            <div class="row">
              <div class="col-25">
                <label for="fname">Company</label>
              </div>
              <div class="col-75">
                <input
                  type="text"
                  class="input-box-name"
                  id="fname"
                  name="buyerCompany"
                  formControlName="buyerCompany"
                  disabled
                />
              </div>
            </div>
            <div class="row">
              <div class="col-25">
                <label for="street 1">street 1</label>
              </div>
              <div class="col-75">
                <input
                  type="text"
                  class="input-box-name"
                  id="street 1"
                  name="buyerBillAddress1"
                  formControlName="buyerBillAddress1"
                  disabled
                />
              </div>
            </div>
            <div class="row">
              <div class="col-25">
                <label for="Street 2">Street 2</label>
              </div>
              <div class="col-75">
                <input
                  type="text"
                  class="input-box-name"
                  id="Street 2"
                  name="buyerBillAddress2"
                  formControlName="buyerBillAddress2"
                  disabled
                />
              </div>
            </div>
            <!-- <p>{{purchaseOrderForm.value.buyerBillState}}</p>////////// -->
            <div class="row">
              <div class="col-25">
                <label for="Street 2" class="city-name">City</label>
              </div>
              <div class="col-75" style="display: flex">
                <input
                  type="text"
                  class="input-box-name"
                  class="min-label"
                  id="Street 2"
                  name="buyerBillCity"
                  formControlName="buyerBillCity"
                  disabled
                />
                <label style="margin-left: 1rem;" for="Street 2">State</label>
                <select
                  class="state-drop"
                  id="country"
                  name="buyerBillState"
                  formControlName="buyerBillState"
                  disabled
                >
                  <!-- <option value="australia">kerala</option>
                  <option value="canada">Canada</option>
                  <option value="usa">USA</option> -->
                  <option
                    *ngFor="let state of states"
                    [ngValue]="state.regionId"
                  >
                    {{ state.regionName }}
                  </option>
                </select>
                <label style="margin-left: 1rem;" for="Street 2">Zip</label>
                <input
                  type="text"
                  class="input-box-name"
                  id="Street 2"
                  name="buyerBillZip"
                  style="width: 29%"
                  formControlName="buyerBillZip"
                  disabled
                />
              </div>
            </div>
          </form>
        </div>

        <div class="container-block">
          <div class="col-md-12 Buyer-detail">
            <h4 style="font-size: 16px">Purchase Order</h4>
          </div>
          <form [formGroup]="purchaseOrderForm">
            <div class="row">
              <div class="col-25">
                <label for="fname">PO#</label>
              </div>
              <div class="col-75">
                <input
                  class="input-box-name"
                  type="text"
                  id="fname"
                  name="poNumber"
                  formControlName="poNumber"
                  maxlength="30"
                />
              </div>
            </div>
            <!-- <div class="row">
              <div class="col-25">
                <label for="lname">PO Date</label>
              </div>
              <div class="col-75">
                <input
                  class="input-box-name"
                  type="text"
                  id="lname"
                  name="poDate"
                  formControlName="poDate"
                />
              </div>
            </div>
            <div class="row">
              <div class="col-25">
                <label for="country">Delivery Date</label>
              </div>
              <div class="col-75">
                <input
                  class="input-box-name"
                  type="date"
                  id="lname"
                  name="poDelivery_date"
                  formControlName="poDelivery_date"
                />
              </div>
            </div> -->
            <div class="row">
              <div class="col-25">
                <label for="lname">PO Date</label>
              </div>
              <div class="col-75 calMargin">
                <p-calendar
                id="lname"
                class="calendar-control"
                name="poDate"
                formControlName="poDate"
                [showIcon]="true"
                dateFormat="mm/dd/yy"
                placeholder="MM/DD/YYYY"
                [readonlyInput]="true"
              ></p-calendar>
              </div>
            </div>

            <div class="row">
              <div class="col-25">
                <label for="country">Delivery Date</label>
              </div>
              <div class="col-75" style="margin-top: 8px;">
                <p-calendar
                id="lname"
                name="poDelivery_date"
                formControlName="poDelivery_date"
                [showIcon]="true"
                dateFormat="mm/dd/yy"
                placeholder="MM/DD/YYYY"
                [readonlyInput]="true"
              ></p-calendar>
              </div>
              </div>
            <div class="row mt-2">
              <div class="col-25">
                <label for="country">Preferred Payment Term</label>
              </div>
              <div class="col-75">
                <select
                  class="state-drop input-box-name"
                  style="width: 100%"
                  id="country"
                  name="poTerm"
                  formControlName="poTerm"
                >
                  <!-- <option value="1">Net 15</option>
                  <option value="2">Net 30</option>
                  <option value="3">Net 45</option>
                  <option value="4">Net 60</option> -->
                  <!-- <option value="undefined">Select Term</option> -->
                  <option
                  *ngFor="let pay of paymentList"
                  [value]="pay.quotePaymentTerm"
                >
                  {{ pay.quotePaymentTerm }}
                </option>
                </select>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- <div>
    <input
      class="input-box-name"
      style="width: 2%"
      type="checkbox"
      id="use-ship"
      name="use-ship"
      value="use-ship"
    />

    <label for="use-ship">Use for Ship To</label>
  </div> -->
  <div class="order-info-sections">
    <div class="container-block">
      <div class="col-md-12 ship-to">
        <h4 style="font-size: 16px">Manufacturer</h4>
        <!-- (click)="contact = !contact" -->
        <div style="display: flex">
          <!-- <h4> contact</h4>
        <img src="assets/Contact.png" /> -->
          <!-- <div>
            <img src="assets/Contact.png" style="margin: 5px" />
          </div>
          <div>
            <p class="contact-p">contact</p>
          </div> -->
        </div>
      </div>
      <form [formGroup]="purchaseOrderForm">
        <div class="row">
          <div class="col-25">
            <label for="Street 2" class="city-name">Name</label>
          </div>
          <div style="display: flex" class="col-75">
            <input
              class="name-field input-box-name"
              type="text"
              id="Street 2"
              name="buyerFirstName"
              formControlName="buyerFirstName"
              disabled
            />

            <input
              style="width: 51%"
              type="text"
              id="Street 2"
              name="Street 2"
              name="buyerLastName"
              formControlName="buyerLastName"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="lname">Company</label>
          </div>
          <div class="col-75">
            <input
              type="text"
              class="input-box-name"
              id="lname"
              name="supplierCompany"
              formControlName="supplierCompany"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="country">Street 1</label>
          </div>
          <div class="col-75">
            <input
              type="text"
              class="input-box-name"
              id="lname"
              name="supplierAddress1"
              formControlName="supplierAddress1"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="country">Street 2</label>
          </div>
          <div class="col-75">
            <input
              type="text"
              class="input-box-name"
              id="lname"
              name="supplierAddress2"
              formControlName="supplierAddress2"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="Street 2" class="city-name">City</label>
          </div>
          <div class="col-75" style="display: flex;">
            <input
              type="text"
              class="input-box-name"
              class="min-label"
              id="Street 2"
              name="supplierCity"
              formControlName="supplierCity"
              disabled
            />
            <label style="margin-left: 1rem;" for="Street 2">State</label>
            <select
              class="state-drop"
              id="country"
              name="supplierState"
              formControlName="supplierState"
              disabled
            >
              <!-- <option value="australia">kerala</option>
              <option value="canada">Canada</option>
              <option value="usa">USA</option> -->
              <option
                *ngFor="let state of supplierStates"
                [value]="state.regionId"
              >
                {{ state.regionName }}
              </option>
            </select>
            <label style="margin-left: 1rem;" for="Street 2">Zip</label>
            <input
              type="text"
              id="Street 2"
              name="supplierZip"
              style="width: 29%"
              formControlName="supplierZip"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="country">Phone</label>
          </div>
          <div class="col-75">
            <input
              type="text"
              class="input-box-name"
              id="lname"
              name="supplierPhone"
              formControlName="supplierPhone"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="country">Email</label>
          </div>
          <div class="col-75">
            <input
              type="text"
              class="input-box-name"
              id="lname"
              name="supplierEmail"
              formControlName="supplierEmail"
              disabled
            />
          </div>
        </div>
      </form>
    </div>

    <div class="container-block">
      <div class="col-md-12 ship-to">
        <h4 style="font-size: 16px">Ship To</h4>
        <div style="display: flex" (click)="opencontactpanel($event)">
          <!-- <h4> contact</h4>
        <img src="assets/Contact.png" /> -->
          <div>
            <img src="assets/Contact.png" style="margin: 5px" />
          </div>
          <div>
            <p class="contact-p">contact</p>
          </div>
        </div>
      </div>
      <form [formGroup]="purchaseOrderForm">
        <div class="row">
          <div class="col-25">
            <label for="fname">Company</label>
          </div>
          <div class="col-75">
            <input
              type="text"
              class="input-box-name"
              id="fname"
              name="shipToCompany"
              formControlName="shipToCompany"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="lname">Street 1</label>
          </div>
          <div class="col-75">
            <input
              type="text"
              class="input-box-name"
              id="lname"
              name="shipToAddress1"
              formControlName="shipToAddress1"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="country">Street 2</label>
          </div>
          <div class="col-75">
            <input
              type="text"
              class="input-box-name"
              id="lname"
              name="shipToAddress2"
              formControlName="shipToAddress2"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="Street 2" class="city-name">City</label>
          </div>
          <div class="col-75" style="display: flex;">
            <input
              type="text"
              class="input-box-name"
              class="min-label"
              id="Street 2"
              name="shipToCity"
              formControlName="shipToCity"
              disabled
            />
            <label style="margin-left: 1rem;" for="Street 2">State</label>
            <select
              class="state-drop"
              id="country"
              name="shipToState"
              formControlName="shipToState"
              disabled
            >
              <!-- <option value="australia">kerala</option>
              <option value="canada">Canada</option>
              <option value="usa">USA</option> -->
              <option
                *ngFor="let state of shipToStates"
                [value]="state.regionId"
              >
                {{ state.regionName }}
              </option>
            </select>
            <label style="margin-left: 1rem;" for="Street 2">Zip</label>
            <input
              type="text"
              id="Street 2"
              name="shipToZip"
              style="width: 29%"
              formControlName="shipToZip"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="Street 2" class="city-name">Contact</label>
          </div>
          <div style="display: flex" class="col-75">
            <input
              class="name-field input-box-name"
              style="margin-right: 6px"
              type="text"
              id="Street 2"
              name="Street 2"
              formControlName="shipToContactFirstName"
              disabled
            />

            <input
              style="width: 51%"
              type="text"
              id="Street 2"
              name="Street 2"
              formControlName="shipToContactLastName"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="country">Phone</label>
          </div>
          <div class="col-75">
            <input
              type="text"
              class="input-box-name"
              id="lname"
              name="shipToPhone"
              formControlName="shipToPhone"
              disabled
            />
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="country">Email</label>
          </div>
          <div class="col-75">
            <input
              type="text"
              class="input-box-name"
              id="lname"
              name="shipToEmail"
              formControlName="shipToEmail"
              disabled
            />
          </div>
        </div>
      </form>
    </div>
  </div>
  <form [formGroup]="purchaseOrderForm">
  <div class="notes-field">
    <h4 style="font-size: 16px">Notes</h4>
  </div>

  <textarea class="col-md-12" type="text" class="notes-block"  name="notes" formControlName="notes"></textarea>
  </form>
  <div class="item-field">
    <h4 style="font-size: 16px">Items</h4>
  </div>
  
  <div class="items-column">
    <!-- <div style="display: contents">
      <div class="column1">
        <p>Number</p>
      </div>

      <div class="column1">
        <p style="margin-left: 36px">Name</p>
      </div>

      <div class="column1">
        <p style="margin-left: 108px">Description</p>
      </div>

      <div class="column1">
        <p style="margin-left: 60px">Quantity</p>
      </div>
      <div class="column1">
        <p style="margin-left: 70px">Price (/unit)</p>
      </div>
      <div class="column1">
        <p style="margin-left: -12px">Price (/line)</p>
      </div>
      <div class="column1">
        <p style="margin-left: 23px">Action</p>
      </div>
    </div> -->
    <!-- <div style="display: flex; width: 90%; margin-left: 25px">
      <div class="column1">
        <p>Number</p>
      </div>

      <div class="column1">
        <p style="margin-left: 24px">Name</p>
      </div>

      <div class="column1">
        <p style="margin-left: 53px">Description</p>
      </div>

      <div class="column1">
        <p style="margin-left: 58px">Quantity</p>
      </div>

      <div class="column1">
        <p style="margin-left: 20px">Price (/unit)</p>

        style="margin-left: 70px"
      </div>

      <div>
        class="column1"

        <p>Price (/line)</p>

        style="margin-left: -12px"
      </div>

      <div class="column1">
        <p style="margin-left: 12px">Action</p>
       
      </div>
    </div> -->
    <div
      class="items-info"
      *ngFor="
        let row of purchaseOrderForm.get('rows')?.controls;
        let index = index
      "
    >
      <div class="column-number">
        <label>Number</label>
        <input type="text" [formControl]="row.get('number')" disabled />
      </div>

      <div class="column-name">
        <label>Name</label>
        <input type="text" [formControl]="row.get('name')" disabled />
      </div>

      <div class="column-des">
        <label>Description</label>
        <input type="text" [formControl]="row.get('description')" disabled />
      </div>
      <div class="column-qty">
        <label>Quanity</label>
        <input type="text" [formControl]="row.get('qty')" disabled />
      </div>
      <div class="column-price">
        <label>Price</label>
        <input type="text" [formControl]="row.get('priceUnit')" disabled />
      </div>
      <!-- <div class="column">
        <input
          class="price-per-line"
          type="text"
          [formControl]="row.get('priceLine')"
          disabled
        />
      </div> -->

      <div class="delete-items">
        <img
          *ngIf="index == 0"
          style="position: relative; top: 8px"
          src="assets/Union.png"
          (click)="deleteIndex(index)"
        />
        <img
          *ngIf="index > 0"
          style="position: relative; top: 8px"
          src="assets/Union.png"
          data-bs-toggle="modal"
          data-bs-target="#RemoveModal"
          (click)="deleteIndex(index)"
          disabled
        />
      </div>
      <!-- (click)="onRemoveRow(index)"
      Remove modal popup -->
      <div
        class="modal fade"
        id="RemoveModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header" style="border: none">
              <button
                type="button"
                class="close"
                data-bs-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="remove-title">
                <span>Are you sure you want to delete this <br />item?</span>
              </div>
              <div class="delete-body">
                <span>
                  You will only remove it from this list. Parts will remain in
                  the order.</span
                >
              </div>
            </div>
            <div
              class="modal-footer"
              style="justify-content: center; position: relative; top: -10px"
            >
              <button type="button" class="btn-cancel" data-bs-dismiss="modal">
                No, Keep Item
              </button>
              <button
                type="button"
                class="btn-remove"
                data-bs-dismiss="modal"
                (click)="onRemoveRow()"
              >
                Yes, Delete Item
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- <div class="total-price"><h4 class="total-field">Total</h4>{{totalPrice}}</div> -->
  
  <div class="total-price">
    <h4 class="total-field">Total</h4>
    <div class="total-count">
      ${{totalPrice}}

    </div>

  </div>
</div>
<div
  class="modal fade"
  id="retractModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="retract-modal-content">
      <div class="retract-header">
        <div class="btn-close" #closebutton data-bs-dismiss="modal">
          <img src="assets/images/Close.png" />
        </div>
      </div>
      <div class="modal-body">
        <div class="retract-title">
          <span>Are you sure you want to retract this award?</span>
        </div>
        <div class="retract-body">
          <p>
            You will cancel this order and you will be free to reward this RFQ
            to another supplier. This must be agreed upon between you and the
            manufacturer.
          </p>
        </div>
        <div class="retract-reason">
          <p>Why are you retracting?*</p>
        </div>
        <div style="padding-left: 8px">
          <select
            [(ngModel)]="selectedElement"
            class="award-dropdowm"
            style="padding: 2px"
            (change)="selectedVal($event.target.value)"
          >
            <option value="undefined" selected>Select a reason</option>
            <option>No Longer needed</option>
            <option>Awarded by Mistake</option>
            <option>Lead time no longer suitable</option>
            <option>Specification Changed</option>
            <option>Re-issuing a separate award</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div *ngIf="otherVal">
          <input
            class="other-reason"
            type="text"
            placeholder="Provide a reason"
            (keyup)="onValueChange($event.target.value)"
          />
        </div>
      </div>

      <div
        class="modal-footer"
        style="
          margin: -15px 5px 0 0;
          display: flex;
          justify-content: space-evenly;
        "
      >
        <button
          type="button"
          class="btn-cancel"
          #closebutton
          data-bs-dismiss="modal"
        >
          No, Keep Award
        </button>
        <button
          [disabled]="disableRetract"
          [ngClass]="disableRetract ? 'disableCls' : ''"
          type="button"
          class="btn-retract"
          (click)="retractAward()"
        >
          Yes, Retract Award
        </button>
      </div>
    </div>
  </div>
</div>

<!-- See po attached code -->
<!-- <div *ngIf="isPoAttached">
  <p (click)="backToOrderFromPDF()" class="back-order">
    <i class="ti-angle-left"></i> Back To Order
  </p>
  <div style="display: flex; justify-content: space-between;margin-bottom: 8px;">
    <h3 class="purchase-title">Purchase Order {{ orderId }}</h3>
    <div style="display: flex;margin:0 8px 10px 0;">
      <button class="Message-modal">
        <h4 class="Message-modal-h4">Message Manufacturer</h4>
      </button>
      <button class="purchase-modal">
        <h4 class="purchase-modal-h4">Send Purchase Order</h4>
      </button>
    </div>
  </div>
 
  </div> -->

<!-- <iframe src="https://s3.us-east-2.amazonaws.com/mfg.mp2020.uat.test/RFQFiles/638083341361193845_S3_MFG.pdf" width="100%" height="500px"> -->


<!-- Order Recieved -->

<div
  class="modal fade"
  id="orderRecieved"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="orderRecieved-modal-content">
      <div class="retract-header">
        <div class="btn-close" #closebutton data-bs-dismiss="modal">
          <img src="assets/images/Close.png" />
        </div>
      </div>
      <div class="modal-body">
        <div class="order-recived-title">
          <img src="assets/images/orderImage.png" />
        </div>
        <div>
          <div class="order-recive-header">Order received!</div>
        </div>
        <div class="order-recieve-body">
          <p>
            Thanks for the confirmation! The order is now<br> completed and archived in
            <span class="my-order" 
            #closebutton
            data-bs-dismiss="modal" > My Orders.</span> 
          </p>
        </div>
       
      <div
        class="modal-footer"
        style="
          margin: -15px 5px 0 0;
          display: flex;
          justify-content: space-evenly;
        "
      >
        <button
          type="button"
          class="reivew-manf-cancel"
          #closebutton
          data-bs-dismiss="modal"
        >
        Review Later
        </button>
        <button
          type="button"
          class="review-manf-btn "
          (click)="addReview()"
          #closebutton
          data-bs-dismiss="modal"
          >
        Review Manufacturer
        </button>
      </div>
    </div>
  </div>
</div>
</div>